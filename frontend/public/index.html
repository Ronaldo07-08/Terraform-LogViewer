<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Terraform LogViewer</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1>üîç Terraform LogViewer</h1>
        <p class="subtitle">–ê–Ω–∞–ª–∏–∑ –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –ª–æ–≥–æ–≤ Terraform</p>

        <div class="upload-area" onclick="document.getElementById('fileInput').click()">
            <h3>üìÅ –ó–∞–≥—Ä—É–∑–∫–∞ –ª–æ–≥-—Ñ–∞–π–ª–∞</h3>
            <p>–ù–∞–∂–º–∏—Ç–µ —á—Ç–æ–±—ã –≤—ã–±—Ä–∞—Ç—å —Ñ–∞–π–ª –∏–ª–∏ –ø–µ—Ä–µ—Ç–∞—â–∏—Ç–µ –µ–≥–æ —Å—é–¥–∞</p>
            <input type="file" id="fileInput" class="file-input" accept=".log,.txt,.json">
            <div id="fileInfo"></div>
        </div>

        <button class="upload-btn" onclick="uploadFile()" id="uploadBtn" disabled>üöÄ –ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª</button>

        <div id="loader" class="loader-container">
            <div class="loader-content">
                <div class="spinner"></div>
                <div class="loader-text">
                    <h4>–ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º –ª–æ–≥-—Ñ–∞–π–ª...</h4>
                    <p>–û—Ç–ø—Ä–∞–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –Ω–∞ –±—ç–∫–µ–Ω–¥</p>
                </div>
            </div>
        </div>

        <div id="result"></div>

        <div id="log-table" class="log-table-container">
            <h4>üìã –î–µ—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤</h4>

            <div class="table-controls">
                <div class="filter-buttons">
                    <button onclick="filterLogs('all')" class="filter-btn active">–í—Å–µ</button>
                    <button onclick="filterLogs('error')" class="filter-btn">–û—à–∏–±–∫–∏</button>
                    <button onclick="filterLogs('warning')" class="filter-btn">–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è</button>
                    <button onclick="filterLogs('info')" class="filter-btn">–ò–Ω—Ñ–æ</button>
                    <button onclick="filterLogs('debug')" class="filter-btn">–û—Ç–ª–∞–¥–∫–∞</button>
                    <button onclick="filterLogs('trace')" class="filter-btn">–¢—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞</button>
                </div>

                <div class="search-container">
                    <input type="text" id="search-input" placeholder="–ü–æ–∏—Å–∫ –ø–æ –ª–æ–≥–∞–º..."
                           onkeyup="searchLogs()" class="search-input">
                </div>
            </div>

            <div class="table-container">
                <table class="log-table">
                    <thead>
                        <tr>
                            <th width="80">‚Ññ</th>
                            <th width="220" class="timestamp-cell">–í—Ä–µ–º—è</th>
                            <th width="100">–£—Ä–æ–≤–µ–Ω—å</th>
                            <th width="200">–†–µ—Å—É—Ä—Å</th>
                            <th width="100">–°–µ–∫—Ü–∏—è</th>
                            <th class="message-cell">–°–æ–æ–±—â–µ–Ω–∏–µ</th>
                            <th width="250" class="req-id-cell">Req ID</th>
                        </tr>
                    </thead>
                    <tbody id="log-table-body">
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ø–æ–ª–Ω–æ–≥–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ -->
    <div id="modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modal-title">–ü—Ä–æ—Å–º–æ—Ç—Ä —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ</h3>
                <button class="close">&times;</button>
            </div>
            <div class="modal-body">
                <pre id="modal-text" class="modal-text"></pre>
            </div>
            <div class="modal-actions">
                <button id="modal-copy-btn" class="copy-btn-large">üìã –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
                <button id="modal-close-btn" class="copy-btn-large secondary">–ó–∞–∫—Ä—ã—Ç—å</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>